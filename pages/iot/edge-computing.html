<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>边缘计算配置 - IOT平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1e40af',
                        'success': '#10b981',
                        'warning': '#f59e0b',
                        'danger': '#ef4444'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 font-sans">
    <div class="p-6">
        <!-- 页面头部 -->
        <div class="flex items-center justify-between mb-6">
            <div>
                <h1 class="text-2xl font-bold text-gray-800 mb-2">边缘计算配置</h1>
                <p class="text-gray-600">数据预处理 - 工程值转换、数据聚合、异常值剔除、数据压缩</p>
            </div>
            <button onclick="saveConfig()" class="bg-success text-white px-4 py-2 rounded-lg hover:bg-green-700">
                <i class="fas fa-save mr-2"></i>保存配置
            </button>
        </div>

        <!-- 边缘计算说明 -->
        <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-lg shadow-sm p-6 mb-6 border border-green-200">
            <div class="flex items-start">
                <div class="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center mr-4 flex-shrink-0">
                    <i class="fas fa-microchip text-white text-xl"></i>
                </div>
                <div class="flex-1">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">边缘计算能力</h3>
                    <p class="text-sm text-gray-700 mb-3">在数据源头进行预处理，减少网络传输，提高实时性</p>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-white rounded-lg p-3 border border-green-100">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-calculator text-blue-600 mr-2"></i>
                                <h4 class="font-semibold text-gray-800 text-sm">工程值转换</h4>
                            </div>
                            <p class="text-xs text-gray-600">原始值转实际值</p>
                        </div>
                        <div class="bg-white rounded-lg p-3 border border-purple-100">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-layer-group text-purple-600 mr-2"></i>
                                <h4 class="font-semibold text-gray-800 text-sm">数据聚合</h4>
                            </div>
                            <p class="text-xs text-gray-600">时间窗口统计</p>
                        </div>
                        <div class="bg-white rounded-lg p-3 border border-orange-100">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-filter text-orange-600 mr-2"></i>
                                <h4 class="font-semibold text-gray-800 text-sm">异常值剔除</h4>
                            </div>
                            <p class="text-xs text-gray-600">数据质量保证</p>
                        </div>
                        <div class="bg-white rounded-lg p-3 border border-indigo-100">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-compress text-indigo-600 mr-2"></i>
                                <h4 class="font-semibold text-gray-800 text-sm">数据压缩</h4>
                            </div>
                            <p class="text-xs text-gray-600">减少存储传输</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 工程值转换 -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                <i class="fas fa-calculator text-blue-600 mr-2"></i>
                工程值转换配置
            </h3>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- 线性转换 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">线性转换</h4>
                    <p class="text-sm text-gray-600 mb-3">y = ax + b</p>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">系数 a</label>
                            <input type="text" value="0.1" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">偏移 b</label>
                            <input type="text" value="0" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div class="bg-blue-50 rounded p-2 text-xs">
                            <p class="text-gray-600">示例: 原始值1000 → 实际值100.0</p>
                        </div>
                    </div>
                </div>

                <!-- 多项式转换 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">多项式转换</h4>
                    <p class="text-sm text-gray-600 mb-3">y = ax² + bx + c</p>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">系数 a</label>
                            <input type="text" value="0.001" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">系数 b</label>
                            <input type="text" value="0.1" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">常数 c</label>
                            <input type="text" value="0" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                    </div>
                </div>

                <!-- 查表转换 -->
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">查表转换</h4>
                    <p class="text-sm text-gray-600 mb-3">映射表转换</p>
                    <div class="space-y-2">
                        <div class="flex gap-2">
                            <input type="text" placeholder="原始值" class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm">
                            <span class="py-2">→</span>
                            <input type="text" placeholder="实际值" class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm">
                        </div>
                        <div class="flex gap-2">
                            <input type="text" value="0" class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm">
                            <span class="py-2">→</span>
                            <input type="text" value="停止" class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm">
                        </div>
                        <div class="flex gap-2">
                            <input type="text" value="1" class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm">
                            <span class="py-2">→</span>
                            <input type="text" value="运行" class="flex-1 px-3 py-2 border border-gray-300 rounded text-sm">
                        </div>
                        <button class="w-full px-3 py-2 border border-dashed border-gray-300 rounded text-sm text-gray-600 hover:bg-gray-50">
                            <i class="fas fa-plus mr-1"></i>添加映射
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 数据聚合 -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                <i class="fas fa-layer-group text-purple-600 mr-2"></i>
                数据聚合配置
            </h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">时间窗口聚合</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">窗口大小</label>
                            <div class="flex gap-2 mt-1">
                                <input type="number" value="5" class="flex-1 px-3 py-2 border border-gray-300 rounded">
                                <select class="px-3 py-2 border border-gray-300 rounded">
                                    <option>分钟</option>
                                    <option>秒</option>
                                    <option>小时</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">聚合函数</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                                <option>平均值 (AVG)</option>
                                <option>最大值 (MAX)</option>
                                <option>最小值 (MIN)</option>
                                <option>求和 (SUM)</option>
                                <option>计数 (COUNT)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">采样策略</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">采样方式</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                                <option>固定间隔采样</option>
                                <option>变化采样</option>
                                <option>异常采样</option>
                            </select>
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">采样间隔</label>
                            <div class="flex gap-2 mt-1">
                                <input type="number" value="10" class="flex-1 px-3 py-2 border border-gray-300 rounded">
                                <select class="px-3 py-2 border border-gray-300 rounded">
                                    <option>秒</option>
                                    <option>分钟</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 异常值处理 -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                <i class="fas fa-filter text-orange-600 mr-2"></i>
                异常值处理配置
            </h3>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">阈值过滤</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">最小值</label>
                            <input type="number" value="0" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">最大值</label>
                            <input type="number" value="100" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div class="bg-orange-50 rounded p-2 text-xs">
                            <p class="text-gray-600">超出范围的值将被剔除</p>
                        </div>
                    </div>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">3σ原则</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">标准差倍数</label>
                            <input type="number" value="3" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">窗口大小</label>
                            <input type="number" value="100" class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                        </div>
                        <div class="bg-orange-50 rounded p-2 text-xs">
                            <p class="text-gray-600">超出μ±3σ的值被视为异常</p>
                        </div>
                    </div>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">变化率检测</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">最大变化率</label>
                            <div class="flex gap-2 mt-1">
                                <input type="number" value="20" class="flex-1 px-3 py-2 border border-gray-300 rounded">
                                <span class="py-2">%</span>
                            </div>
                        </div>
                        <div>
                            <label class="text-sm text-gray-600">时间窗口</label>
                            <input type="number" value="1" class="w-full px-3 py-2 border border-gray-300 rounded mt-1" placeholder="秒">
                        </div>
                        <div class="bg-orange-50 rounded p-2 text-xs">
                            <p class="text-gray-600">变化过快的值将被标记</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 数据压缩 -->
        <div class="bg-white rounded-lg shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">
                <i class="fas fa-compress text-indigo-600 mr-2"></i>
                数据压缩配置
            </h3>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">死区压缩</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">死区范围</label>
                            <div class="flex gap-2 mt-1">
                                <input type="number" value="0.5" class="flex-1 px-3 py-2 border border-gray-300 rounded">
                                <span class="py-2">%</span>
                            </div>
                        </div>
                        <div class="bg-indigo-50 rounded p-2 text-xs">
                            <p class="text-gray-600">变化小于0.5%时不存储</p>
                        </div>
                    </div>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">旋转门压缩</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">偏差阈值</label>
                            <div class="flex gap-2 mt-1">
                                <input type="number" value="1.0" class="flex-1 px-3 py-2 border border-gray-300 rounded">
                                <span class="py-2">%</span>
                            </div>
                        </div>
                        <div class="bg-indigo-50 rounded p-2 text-xs">
                            <p class="text-gray-600">线性拟合偏差超过阈值时存储</p>
                        </div>
                    </div>
                </div>

                <div class="border border-gray-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800 mb-3">摆动门压缩</h4>
                    <div class="space-y-3">
                        <div>
                            <label class="text-sm text-gray-600">压缩比</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded mt-1">
                                <option>高 (90%)</option>
                                <option>中 (70%)</option>
                                <option>低 (50%)</option>
                            </select>
                        </div>
                        <div class="bg-indigo-50 rounded p-2 text-xs">
                            <p class="text-gray-600">自适应压缩算法</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function saveConfig() {
            alert('保存边缘计算配置');
        }
    </script>
</body>
</html>
