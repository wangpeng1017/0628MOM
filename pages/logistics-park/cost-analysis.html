<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>成本分析报表 - 慧新全智厂园一体平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-6">
        <!-- 页面标题 -->
        <div class="mb-6">
            <h1 class="text-2xl font-bold text-gray-800 flex items-center">
                <i class="fas fa-chart-pie text-primary mr-3"></i>
                物流成本分析报表
            </h1>
            <p class="text-gray-600 mt-2">全面的物流成本分析，优化运营效益</p>
        </div>

        <!-- 成本概览统计 -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">总成本</h3>
                        <p class="text-3xl font-bold text-red-600 mt-2">¥45,680</p>
                        <p class="text-sm text-gray-500">本月</p>
                    </div>
                    <div class="bg-red-100 p-3 rounded-full">
                        <i class="fas fa-coins text-red-600 text-xl"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-600">
                    <div class="flex justify-between">
                        <span>较上月:</span>
                        <span class="text-green-600 font-medium">-8.5%</span>
                    </div>
                    <div class="flex justify-between mt-1">
                        <span>预算执行:</span>
                        <span class="text-blue-600 font-medium">91.4%</span>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">单车成本</h3>
                        <p class="text-3xl font-bold text-blue-600 mt-2">¥285</p>
                        <p class="text-sm text-gray-500">平均/车次</p>
                    </div>
                    <div class="bg-blue-100 p-3 rounded-full">
                        <i class="fas fa-truck text-blue-600 text-xl"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-600">
                    <div class="flex justify-between">
                        <span>较上月:</span>
                        <span class="text-green-600 font-medium">-¥15</span>
                    </div>
                    <div class="flex justify-between mt-1">
                        <span>行业平均:</span>
                        <span class="text-green-600 font-medium">低12%</span>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">节省金额</h3>
                        <p class="text-3xl font-bold text-green-600 mt-2">¥4,250</p>
                        <p class="text-sm text-gray-500">本月</p>
                    </div>
                    <div class="bg-green-100 p-3 rounded-full">
                        <i class="fas fa-piggy-bank text-green-600 text-xl"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-600">
                    <div class="flex justify-between">
                        <span>优化贡献:</span>
                        <span class="text-green-600 font-medium">¥3,200</span>
                    </div>
                    <div class="flex justify-between mt-1">
                        <span>管理改进:</span>
                        <span class="text-blue-600 font-medium">¥1,050</span>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800">ROI</h3>
                        <p class="text-3xl font-bold text-purple-600 mt-2">18.5%</p>
                        <p class="text-sm text-gray-500">投资回报率</p>
                    </div>
                    <div class="bg-purple-100 p-3 rounded-full">
                        <i class="fas fa-percentage text-purple-600 text-xl"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-600">
                    <div class="flex justify-between">
                        <span>目标ROI:</span>
                        <span class="text-blue-600 font-medium">15%</span>
                    </div>
                    <div class="flex justify-between mt-1">
                        <span>超额完成:</span>
                        <span class="text-green-600 font-medium">+3.5%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 成本结构分析 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-chart-pie text-blue-600 mr-2"></i>
                    成本结构分析
                </h3>
                <div class="space-y-4">
                    <div class="bg-gradient-to-r from-red-50 to-pink-50 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">燃油成本</span>
                            <span class="text-lg font-bold text-red-600">35%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-red-500 h-3 rounded-full" style="width: 35%"></div>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">¥15,988/月</div>
                    </div>
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">人工成本</span>
                            <span class="text-lg font-bold text-blue-600">28%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-blue-500 h-3 rounded-full" style="width: 28%"></div>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">¥12,790/月</div>
                    </div>
                    <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">设备折旧</span>
                            <span class="text-lg font-bold text-green-600">20%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-green-500 h-3 rounded-full" style="width: 20%"></div>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">¥9,136/月</div>
                    </div>
                    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">维护保养</span>
                            <span class="text-lg font-bold text-yellow-600">12%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-yellow-500 h-3 rounded-full" style="width: 12%"></div>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">¥5,482/月</div>
                    </div>
                    <div class="bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-700">其他费用</span>
                            <span class="text-lg font-bold text-gray-600">5%</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-gray-500 h-3 rounded-full" style="width: 5%"></div>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">¥2,284/月</div>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
                <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-chart-line text-green-600 mr-2"></i>
                    成本趋势分析
                </h3>
                <div class="space-y-4">
                    <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-800 mb-2">月度趋势</h4>
                        <div class="text-sm text-gray-600 space-y-1">
                            <div>• 1月: ¥52,340 (基准)</div>
                            <div>• 2月: ¥49,850 (-4.8%)</div>
                            <div>• 3月: ¥45,680 (-8.5%)</div>
                            <div class="text-green-600">• 持续优化趋势</div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-800 mb-2">同比分析</h4>
                        <div class="text-sm text-gray-600 space-y-1">
                            <div>• 去年同期: ¥58,920</div>
                            <div>• 今年同期: ¥45,680</div>
                            <div>• 同比降低: 22.5%</div>
                            <div class="text-blue-600">• 管理效果显著</div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-800 mb-2">预测分析</h4>
                        <div class="text-sm text-gray-600 space-y-1">
                            <div>• 4月预测: ¥43,200</div>
                            <div>• 5月预测: ¥41,800</div>
                            <div>• 年度目标: ¥520,000</div>
                            <div class="text-purple-600">• 预计提前达成</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 成本优化建议 -->
        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200 mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-lightbulb text-yellow-600 mr-2"></i>
                成本优化建议
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-gradient-to-r from-red-50 to-pink-50 rounded-lg p-4 border border-red-200">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-gray-800">燃油成本优化</h4>
                        <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full">高优先级</span>
                    </div>
                    <div class="text-sm text-gray-600 space-y-2">
                        <div>• 路径优化可节省15%</div>
                        <div>• 集中采购降价8%</div>
                        <div>• 车辆保养提效5%</div>
                        <div class="text-red-600">• 预计节省: ¥4,200/月</div>
                    </div>
                    <button class="w-full mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors">
                        制定方案
                    </button>
                </div>

                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-gray-800">人工成本优化</h4>
                        <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full">中优先级</span>
                    </div>
                    <div class="text-sm text-gray-600 space-y-2">
                        <div>• 智能调度减员10%</div>
                        <div>• 技能培训提效12%</div>
                        <div>• 绩效激励优化</div>
                        <div class="text-blue-600">• 预计节省: ¥2,800/月</div>
                    </div>
                    <button class="w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors">
                        人力规划
                    </button>
                </div>

                <div class="bg-gradient-to-r from-green-50 to-teal-50 rounded-lg p-4 border border-green-200">
                    <div class="flex items-center justify-between mb-3">
                        <h4 class="font-semibold text-gray-800">设备成本优化</h4>
                        <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">低优先级</span>
                    </div>
                    <div class="text-sm text-gray-600 space-y-2">
                        <div>• 预防性维护减少故障</div>
                        <div>• 设备更新换代</div>
                        <div>• 租赁vs购买分析</div>
                        <div class="text-green-600">• 预计节省: ¥1,500/月</div>
                    </div>
                    <button class="w-full mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors">
                        设备规划
                    </button>
                </div>
            </div>
        </div>

        <!-- 详细成本报表 -->
        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200 mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-table text-purple-600 mr-2"></i>
                详细成本报表
            </h3>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">成本项目</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">本月金额</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">上月金额</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">变化</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">占比</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">燃油费用</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥15,988</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥17,450</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">-8.4%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">35.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 cursor-pointer hover:underline">查看详情</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">司机工资</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥12,790</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥13,200</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">-3.1%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">28.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 cursor-pointer hover:underline">查看详情</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">车辆折旧</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥9,136</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥9,136</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">0.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">20.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 cursor-pointer hover:underline">查看详情</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">维护保养</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥5,482</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥6,120</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600">-10.4%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">12.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 cursor-pointer hover:underline">查看详情</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">保险费用</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥2,284</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">¥2,284</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">0.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">5.0%</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-blue-600 cursor-pointer hover:underline">查看详情</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 快速操作 -->
        <div class="bg-white rounded-lg shadow-sm p-6 border border-gray-200">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                <i class="fas fa-bolt text-blue-600 mr-2"></i>
                快速操作
            </h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <button class="flex flex-col items-center p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors">
                    <i class="fas fa-file-excel text-green-600 text-2xl mb-2"></i>
                    <span class="text-sm font-medium text-gray-800">导出报表</span>
                </button>
                <button class="flex flex-col items-center p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors">
                    <i class="fas fa-chart-bar text-blue-600 text-2xl mb-2"></i>
                    <span class="text-sm font-medium text-gray-800">趋势分析</span>
                </button>
                <button class="flex flex-col items-center p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition-colors">
                    <i class="fas fa-cog text-purple-600 text-2xl mb-2"></i>
                    <span class="text-sm font-medium text-gray-800">预算设置</span>
                </button>
                <button class="flex flex-col items-center p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition-colors">
                    <i class="fas fa-bell text-orange-600 text-2xl mb-2"></i>
                    <span class="text-sm font-medium text-gray-800">成本预警</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // 成本分析报表功能
        function initCostAnalysis() {
            console.log('初始化成本分析报表功能');
            
            // 优化建议按钮事件
            const optimizationButtons = document.querySelectorAll('button');
            optimizationButtons.forEach(button => {
                const text = button.textContent.trim();
                if (text.includes('制定方案')) {
                    button.addEventListener('click', function() {
                        console.log('制定燃油成本优化方案');
                        alert('正在制定燃油成本优化方案...');
                    });
                } else if (text.includes('人力规划')) {
                    button.addEventListener('click', function() {
                        console.log('制定人力资源规划');
                        alert('正在制定人力资源优化规划...');
                    });
                } else if (text.includes('设备规划')) {
                    button.addEventListener('click', function() {
                        console.log('制定设备成本规划');
                        alert('正在制定设备成本优化规划...');
                    });
                } else if (text.includes('导出报表')) {
                    button.addEventListener('click', function() {
                        console.log('导出成本分析报表');
                        alert('正在导出成本分析报表...');
                    });
                }
            });
            
            // 表格详情链接事件
            const detailLinks = document.querySelectorAll('.cursor-pointer');
            detailLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const costItem = this.closest('tr').querySelector('td').textContent;
                    console.log('查看成本详情:', costItem);
                    alert(`正在查看 ${costItem} 的详细信息...`);
                });
            });
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            initCostAnalysis();
            console.log('成本分析报表页面加载完成');
        });
    </script>
</body>
</html>
