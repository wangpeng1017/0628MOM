<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¾å¤‡æ™ºèƒ½ä½“ - æ™ºèƒ½è¯Šæ–­åŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 95%;
            max-width: 1200px;
            height: 90vh;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 600;
        }

        .header .status {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .sidebar {
            width: 280px;
            background: #f8f9fa;
            border-right: 1px solid #e5e7eb;
            padding: 20px;
            overflow-y: auto;
        }

        .scenario-btn {
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s;
            font-size: 14px;
        }

        .scenario-btn:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .scenario-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .scenario-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .scenario-desc {
            font-size: 12px;
            opacity: 0.7;
        }

        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .messages {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background: #fafafa;
        }

        .message {
            display: flex;
            margin-bottom: 20px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 15px 20px;
            border-radius: 15px;
            position: relative;
        }

        .message.agent .message-content {
            background: white;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .message.user .message-content {
            background: #667eea;
            color: white;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 18px;
        }

        .message.agent .message-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .message.user .message-avatar {
            background: #10b981;
            color: white;
        }

        .card {
            background: #f0f4ff;
            border: 1px solid #c7d2fe;
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
        }

        .card-title {
            font-weight: 600;
            color: #4338ca;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-content {
            font-size: 14px;
            line-height: 1.6;
        }

        .card-list {
            list-style: none;
            padding-left: 0;
        }

        .card-list li {
            padding: 5px 0;
            display: flex;
            align-items: start;
        }

        .card-list li:before {
            content: "â–¸";
            color: #667eea;
            margin-right: 8px;
        }

        .input-area {
            padding: 20px 30px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .input-box {
            flex: 1;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }

        .input-box:focus {
            border-color: #667eea;
        }

        .send-btn {
            padding: 15px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s;
        }

        .send-btn:hover {
            transform: scale(1.05);
        }

        .send-btn:active {
            transform: scale(0.95);
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 15px 20px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        .quick-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .quick-btn {
            padding: 8px 15px;
            background: white;
            border: 1px solid #667eea;
            color: #667eea;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-btn:hover {
            background: #667eea;
            color: white;
        }

        .badge {
            display: inline-block;
            padding: 3px 10px;
            background: #10b981;
            color: white;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }

        .similarity {
            color: #10b981;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>ğŸ¤– è®¾å¤‡æ™ºèƒ½ä½“ - AIè¯Šæ–­åŠ©æ‰‹</h1>
                <div style="font-size: 12px; opacity: 0.9; margin-top: 5px;">
                    åŸºäºå¤§è¯­è¨€æ¨¡å‹ + RAGæ£€ç´¢å¢å¼º | ç°åœºæ¼”ç¤ºç‰ˆæœ¬
                </div>
            </div>
            <div class="status">
                <span class="status-dot"></span>
                <span>AIå°±ç»ª</span>
            </div>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <h3 style="margin-bottom: 15px; color: #374151;">ğŸ“‹ æ¼”ç¤ºåœºæ™¯</h3>
                <button class="scenario-btn active" onclick="loadScenario(1)">
                    <div class="scenario-title">åœºæ™¯1: ç»•çº¿æœºæ–­çº¿æ•…éšœ</div>
                    <div class="scenario-desc">æ™ºèƒ½å¼•å¯¼å¼è¯Šæ–­ + çŸ¥è¯†æ¨è</div>
                </button>
                <button class="scenario-btn" onclick="loadScenario(2)">
                    <div class="scenario-title">åœºæ™¯2: æ³¨å¡‘æœºæ¸©åº¦å¼‚å¸¸</div>
                    <div class="scenario-desc">å¤šè½®å¯¹è¯ + å‚æ•°æŸ¥è¯¢</div>
                </button>
                <button class="scenario-btn" onclick="loadScenario(3)">
                    <div class="scenario-title">åœºæ™¯3: è®¾å¤‡ä¿¡æ¯æŸ¥è¯¢</div>
                    <div class="scenario-desc">è·¨ç³»ç»Ÿæ•°æ®æ£€ç´¢</div>
                </button>
                <button class="scenario-btn" onclick="loadScenario(4)">
                    <div class="scenario-title">åœºæ™¯4: å¤‡ä»¶åº“å­˜æŸ¥è¯¢</div>
                    <div class="scenario-desc">å®æ—¶æ•°æ®è”åŠ¨</div>
                </button>
                <button class="scenario-btn" onclick="loadScenario(5)">
                    <div class="scenario-title">åœºæ™¯5: å›¾åƒè¯†åˆ«è¯Šæ–­</div>
                    <div class="scenario-desc">å¤šæ¨¡æ€AIèƒ½åŠ›å±•ç¤º</div>
                </button>
                
                <div style="margin-top: 30px; padding: 15px; background: white; border-radius: 10px; font-size: 12px;">
                    <strong>ğŸ’¡ æ¼”ç¤ºè¯´æ˜ï¼š</strong><br>
                    ç‚¹å‡»åœºæ™¯æŒ‰é’®åŠ è½½é¢„è®¾å¯¹è¯<br>
                    ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¾“å…¥é—®é¢˜æµ‹è¯•
                </div>
            </div>

            <div class="chat-area">
                <div class="messages" id="messages">
                    <div class="message agent">
                        <div class="message-avatar">AI</div>
                        <div class="message-content">
                            <div>æ‚¨å¥½ï¼æˆ‘æ˜¯è®¾å¤‡æ™ºèƒ½ä½“ï¼Œæ‚¨çš„ä¸“å±AIç»´ä¿®åŠ©æ‰‹ã€‚ğŸ‘‹</div>
                            <div style="margin-top: 10px;">æˆ‘å¯ä»¥å¸®æ‚¨ï¼š</div>
                            <ul class="card-list" style="margin-top: 8px;">
                                <li>æ™ºèƒ½è¯Šæ–­è®¾å¤‡æ•…éšœï¼Œå¼•å¯¼æ‚¨å¿«é€Ÿå®šä½é—®é¢˜</li>
                                <li>æ¨èå†å²ç»´ä¿®æ¡ˆä¾‹å’ŒSOPæ–‡æ¡£</li>
                                <li>æŸ¥è¯¢è®¾å¤‡ä¿¡æ¯ã€å¤‡ä»¶åº“å­˜ã€å·¥å•è¿›åº¦</li>
                                <li>é€šè¿‡å›¾ç‰‡è¯†åˆ«è¾…åŠ©è¯Šæ–­</li>
                            </ul>
                            <div style="margin-top: 15px; color: #667eea; font-weight: 600;">
                                è¯·é€‰æ‹©å·¦ä¾§æ¼”ç¤ºåœºæ™¯ï¼Œæˆ–ç›´æ¥æè¿°æ‚¨é‡åˆ°çš„é—®é¢˜
                            </div>
                        </div>
                    </div>
                </div>

                <div class="input-area">
                    <input type="text" class="input-box" id="userInput" placeholder="æè¿°æ‚¨é‡åˆ°çš„è®¾å¤‡é—®é¢˜..." 
                           onkeypress="if(event.keyCode==13) sendMessage()">
                    <button class="send-btn" onclick="sendMessage()">å‘é€</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScenario = 1;
        let scenarioStep = 0;

        // æ¼”ç¤ºåœºæ™¯è„šæœ¬
        const scenarios = {
            1: [ // ç»•çº¿æœºæ–­çº¿æ•…éšœ
                {
                    user: "è¿™å°ç»•çº¿æœºè€æ˜¯æ–­çº¿ï¼Œæ€ä¹ˆå›äº‹ï¼Ÿ",
                    agent: "å¥½çš„ï¼Œæ­£åœ¨å¤„ç†'ç»•çº¿æœºé¢‘ç¹æ–­çº¿'é—®é¢˜ã€‚ğŸ”<br><br>ä¸ºäº†æ›´å‡†ç¡®å®šä½ï¼Œè¯·é—®æ–­çº¿ä¸»è¦å‘ç”Ÿåœ¨ï¼š",
                    quickActions: ["å¯åŠ¨é˜¶æ®µ", "é«˜é€Ÿè¿è¡Œæ—¶", "åœæ­¢é˜¶æ®µ"]
                },
                {
                    user: "ä¸»è¦æ˜¯åœ¨é«˜é€Ÿè¿è¡Œæ—¶",
                    agent: "äº†è§£ã€‚æ ¹æ®æˆ‘çš„åˆ†æï¼Œé«˜é€Ÿè¿è¡Œæ—¶æ–­çº¿é€šå¸¸ä¸ä»¥ä¸‹å› ç´ æœ‰å…³ï¼š",
                    cards: [
                        {
                            title: "ğŸ“Š Top 1 ç›¸ä¼¼æ¡ˆä¾‹",
                            badge: "ç›¸ä¼¼åº¦ 92%",
                            content: "<div class='similarity'>å…³äºXXç»•çº¿æœºé«˜é€Ÿä¸­æ–­çº¿é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</div><br>â€¢ æ•…éšœåŸå› ï¼šå¼ åŠ›æ§åˆ¶å™¨è®¾ç½®ä¸å½“<br>â€¢ è§£å†³æ–¹æ³•ï¼šè°ƒæ•´å¼ åŠ›å‚æ•°å¹¶æ£€æŸ¥ä¼ æ„Ÿå™¨<br>â€¢ ç»´ä¿®æ—¶é—´ï¼š45åˆ†é’Ÿ<br>â€¢ æˆåŠŸç‡ï¼š95%"
                        },
                        {
                            title: "ğŸ“„ ç›¸å…³SOPæ–‡æ¡£",
                            content: "â€¢ XXç»•çº¿æœºå¼ åŠ›ç³»ç»Ÿè°ƒè¯•æ ‡å‡†ä½œä¸šç¨‹åº<br>â€¢ ç»•çº¿æœºæ—¥å¸¸ç»´æŠ¤æ£€æŸ¥æ¸…å•<br>â€¢ ä¼ æ„Ÿå™¨æ•…éšœæ’æŸ¥æŒ‡å—"
                        },
                        {
                            title: "ğŸ”§ è¯Šæ–­å¼•å¯¼",
                            content: "é«˜é€Ÿæ–­çº¿æœ€å¸¸è§çš„ä¸‰ä¸ªåŸå› ï¼š<br>1. å¼ åŠ›è¿‡å¤§æˆ–ä¸ç¨³ï¼ˆ70%ï¼‰<br>2. è¿‡çº¿å¯¼è½®ä¸å…‰æ»‘ï¼ˆ20%ï¼‰<br>3. ç»•çº¿ç¨‹åºå‚æ•°é—®é¢˜ï¼ˆ10%ï¼‰<br><br><strong>å»ºè®®æ‚¨é¦–å…ˆæ£€æŸ¥å¼ åŠ›æ§åˆ¶å™¨ï¼Œå®æ—¶å¼ åŠ›å€¼æ˜¯å¤šå°‘ï¼Ÿ</strong>"
                        }
                    ]
                },
                {
                    user: "å¼ åŠ›å€¼ä¸ç¨³å®šï¼Œåœ¨50-100gä¹‹é—´è·³åŠ¨",
                    agent: "å¾ˆå¥½çš„è§‚å¯Ÿï¼å¼ åŠ›æ³¢åŠ¨å¤§é€šå¸¸æ˜¯ç”±äº<strong>å¼ åŠ›ä¼ æ„Ÿå™¨æˆ–å…¶çº¿è·¯æ•…éšœ</strong>ã€‚",
                    cards: [
                        {
                            title: "ğŸ¯ æ ¹å› å®šä½",
                            content: "<strong>è¯Šæ–­ç»“è®ºï¼š</strong>å¼ åŠ›ä¼ æ„Ÿå™¨ä¿¡å·å¼‚å¸¸<br><br><strong>æ’æŸ¥æ­¥éª¤ï¼š</strong><br>1. æ£€æŸ¥ä¼ æ„Ÿå™¨è¿æ¥çº¿æ˜¯å¦æ¾åŠ¨<br>2. æ£€æŸ¥çº¿ç¼†ç»ç¼˜å±‚æ˜¯å¦æœ‰ç ´æŸ<br>3. ç”¨ä¸‡ç”¨è¡¨æµ‹è¯•ä¼ æ„Ÿå™¨è¾“å‡ºç”µå‹<br>4. æ£€æŸ¥ä¼ æ„Ÿå™¨å®‰è£…ä½ç½®æ˜¯å¦åç§»"
                        },
                        {
                            title: "ğŸ—‚ï¸ æŠ€æœ¯æ–‡æ¡£",
                            content: "å·²ä¸ºæ‚¨è°ƒå–ï¼š<br>â€¢ å¼ åŠ›ä¼ æ„Ÿå™¨ç”µæ°”å›¾çº¸ [ç‚¹å‡»æŸ¥çœ‹]<br>â€¢ ä¼ æ„Ÿå™¨æ›´æ¢ä½œä¸šæŒ‡å¯¼ä¹¦<br>â€¢ çº¿ç¼†èµ°å‘ç¤ºæ„å›¾"
                        },
                        {
                            title: "ğŸ“¦ æ¨èå¤‡ä»¶",
                            badge: "åº“å­˜å……è¶³",
                            content: "â€¢ å¼ åŠ›ä¼ æ„Ÿå™¨ TLS-500ï¼ˆåº“å­˜: 3ä¸ªï¼ŒA2è´§æ¶ï¼‰<br>â€¢ å±è”½ä¿¡å·çº¿ 5mï¼ˆåº“å­˜: å……è¶³ï¼‰<br>â€¢ ç«¯å­æ¥å¤´å¥—è£…ï¼ˆåº“å­˜: å……è¶³ï¼‰"
                        }
                    ],
                    quickActions: ["æŸ¥çœ‹ç”µæ°”å›¾çº¸", "ç”³è¯·é¢†ç”¨å¤‡ä»¶", "è®°å½•è¯Šæ–­ç»“æœ"]
                },
                {
                    user: "å‘ç°ä¼ æ„Ÿå™¨ä¿¡å·çº¿ç»ç¼˜çš®æœ‰ç£¨æŸï¼Œå·²é‡æ–°å¤„ç†ï¼Œå¼ åŠ›æ¢å¤ç¨³å®š",
                    agent: "å¤ªå¥½äº†ï¼âœ… é—®é¢˜æˆåŠŸè§£å†³ï¼<br><br>æ‚¨çš„è¯Šæ–­æ€è·¯éå¸¸å‡†ç¡®ã€‚æˆ‘å·²è‡ªåŠ¨è®°å½•æœ¬æ¬¡ç»´ä¿®ï¼š",
                    cards: [
                        {
                            title: "ğŸ“ ç»´ä¿®è®°å½•",
                            content: "<strong>è®¾å¤‡ï¼š</strong>å…¨è‡ªåŠ¨ç»•çº¿æœº<br><strong>æ•…éšœï¼š</strong>é«˜é€Ÿè¿è¡Œæ—¶é¢‘ç¹æ–­çº¿<br><strong>æ ¹å› ï¼š</strong>å¼ åŠ›ä¼ æ„Ÿå™¨ä¿¡å·çº¿ç»ç¼˜ç ´æŸ<br><strong>æªæ–½ï¼š</strong>é‡æ–°å¤„ç†ä¿¡å·çº¿ç»ç¼˜<br><strong>ç»“æœï¼š</strong>å¼ åŠ›æ¢å¤ç¨³å®šï¼Œé—®é¢˜è§£å†³<br><strong>ç”¨æ—¶ï¼š</strong>35åˆ†é’Ÿ"
                        },
                        {
                            title: "ğŸ“ çŸ¥è¯†æ²‰æ·€",
                            content: "æœ¬æ¬¡è¯Šæ–­è¿‡ç¨‹å·²ç”Ÿæˆæ–°çš„çŸ¥è¯†æ¡ˆä¾‹è‰ç¨¿ï¼š<br><br><strong>ã€ç»•çº¿æœºé«˜é€Ÿæ–­çº¿-å¼ åŠ›ä¼ æ„Ÿå™¨çº¿è·¯æ•…éšœæ¡ˆä¾‹ã€</strong><br><br>å°†æ¨é€ç»™è®¾å¤‡ä¸»ç®¡å®¡æ ¸åå…¥åº“ï¼Œå¸®åŠ©å…¶ä»–å·¥ç¨‹å¸ˆå¿«é€Ÿè§£å†³ç±»ä¼¼é—®é¢˜ã€‚"
                        }
                    ]
                }
            ],
            2: [ // æ³¨å¡‘æœºæ¸©åº¦å¼‚å¸¸
                {
                    user: "æ³¨å¡‘æœºæ¸©åº¦æ§åˆ¶å¼‚å¸¸",
                    agent: "æ”¶åˆ°ã€‚æ­£åœ¨åˆ†æ'æ³¨å¡‘æœºæ¸©åº¦æ§åˆ¶å¼‚å¸¸'é—®é¢˜ã€‚ğŸŒ¡ï¸<br><br>è¯·é—®å…·ä½“æ˜¯å“ªç§å¼‚å¸¸æƒ…å†µï¼š",
                    quickActions: ["æ— æ³•å‡æ¸©", "æ¸©åº¦è¶…è°ƒ", "æ¸©åº¦ä¸ç¨³å®š", "æ¸©åº¦ä¼ æ„Ÿå™¨æŠ¥è­¦"]
                },
                {
                    user: "æ¸©åº¦è¶…è°ƒï¼Œè®¾å®š180åº¦ï¼Œæœ€é«˜å†²åˆ°200åº¦",
                    agent: "äº†è§£ã€‚æ ¹æ®å†å²æ•°æ®åˆ†æï¼Œ<span class='similarity'>75%çš„æ¸©åº¦è¶…è°ƒé—®é¢˜ä¸PIDå‚æ•°è®¾ç½®æœ‰å…³</span>ã€‚",
                    cards: [
                        {
                            title: "ğŸ” æ™ºèƒ½è¯Šæ–­",
                            content: "<strong>å¯èƒ½åŸå› æ’åºï¼š</strong><br>1. PIDå‚æ•°è®¾ç½®ä¸å½“ï¼ˆ75%æ¦‚ç‡ï¼‰<br>2. åŠ çƒ­å™¨åŠŸç‡è¿‡å¤§ï¼ˆ15%æ¦‚ç‡ï¼‰<br>3. æ¸©æ§æ¨¡å—æ•…éšœï¼ˆ10%æ¦‚ç‡ï¼‰"
                        },
                        {
                            title: "âš™ï¸ æ¨èæ“ä½œ",
                            content: "æ‚¨æ˜¯å¦æ£€æŸ¥è¿‡è¯¥è®¾å¤‡çš„PIDå‚æ•°ï¼Ÿ<br><br>æˆ‘å¯ä»¥ä¸ºæ‚¨è°ƒå‡ºè¯¥å‹å·è®¾å¤‡çš„å‡ºå‚æ¨èå‚æ•°ï¼š<br>â€¢ Pï¼ˆæ¯”ä¾‹ï¼‰: 18.5<br>â€¢ Iï¼ˆç§¯åˆ†ï¼‰: 240<br>â€¢ Dï¼ˆå¾®åˆ†ï¼‰: 60<br><br>å½“å‰å‚æ•°æ˜¯å¤šå°‘ï¼Ÿ"
                        }
                    ]
                },
                {
                    user: "å½“å‰P=25, I=180, D=40ï¼Œçœ‹èµ·æ¥På€¼åé«˜äº†",
                    agent: "åˆ†ææ­£ç¡®ï¼ğŸ‘ På€¼è¿‡é«˜ä¼šå¯¼è‡´ç³»ç»Ÿå“åº”è¿‡æ¿€ï¼Œé€ æˆæ¸©åº¦è¶…è°ƒã€‚",
                    cards: [
                        {
                            title: "âœ… è°ƒæ•´å»ºè®®",
                            content: "<strong>æ¨èè°ƒæ•´æ–¹æ¡ˆï¼š</strong><br><br>1. å°†På€¼ä»25é™ä½åˆ°18.5<br>2. å°†Iå€¼ä»180æé«˜åˆ°240<br>3. å°†Då€¼ä»40æé«˜åˆ°60<br><br><strong>è°ƒæ•´åè§‚å¯Ÿæ•ˆæœï¼š</strong><br>â€¢ æ¸©åº¦å“åº”ä¼šæ›´å¹³ç¨³<br>â€¢ è¶…è°ƒé‡åº”æ§åˆ¶åœ¨Â±2â„ƒä»¥å†…<br>â€¢ ç¨³å®šæ—¶é—´çº¦5-8åˆ†é’Ÿ"
                        },
                        {
                            title: "ğŸ“š å‚è€ƒæ–‡æ¡£",
                            content: "å·²ä¸ºæ‚¨æ‰¾åˆ°ï¼š<br>â€¢ æ³¨å¡‘æœºæ¸©æ§ç³»ç»ŸPIDè°ƒè¯•æŒ‡å—<br>â€¢ XXå‹å·æ³¨å¡‘æœºå‚æ•°è°ƒæ•´æ‰‹å†Œ<br>â€¢ æ¸©åº¦è¶…è°ƒé—®é¢˜å…¸å‹æ¡ˆä¾‹æ±‡ç¼–"
                        }
                    ],
                    quickActions: ["æŸ¥çœ‹è°ƒè¯•æŒ‡å—", "è®°å½•å‚æ•°ä¿®æ”¹", "ç”³è¯·æŠ€æœ¯æ”¯æŒ"]
                }
            ],
            3: [ // è®¾å¤‡ä¿¡æ¯æŸ¥è¯¢
                {
                    user: "å¸®æˆ‘æŸ¥ä¸€ä¸‹3å·äº§çº¿CP-003å·å‹æœºçš„ä¿¡æ¯",
                    agent: "æ­£åœ¨æŸ¥è¯¢è®¾å¤‡ä¿¡æ¯... â³",
                    delay: 1500,
                    nextAuto: true
                },
                {
                    user: "",
                    agent: "å·²ä¸ºæ‚¨æ‰¾åˆ°è®¾å¤‡ä¿¡æ¯ï¼š",
                    cards: [
                        {
                            title: "ğŸ­ è®¾å¤‡åŸºæœ¬ä¿¡æ¯",
                            content: "<strong>è®¾å¤‡ç¼–ç ï¼š</strong>CP-003<br><strong>è®¾å¤‡åç§°ï¼š</strong>300å¨æ¶²å‹å‹åŠ›æœº<br><strong>å‹å·ï¼š</strong>YP-300<br><strong>åˆ¶é€ å•†ï¼š</strong>XXæœºæ¢°<br><strong>å®‰è£…ä½ç½®ï¼š</strong>3å·äº§çº¿ / AåŒº<br><strong>å½“å‰çŠ¶æ€ï¼š</strong><span style='color: #10b981'>â—</span> è¿è¡Œä¸­<br><strong>è´£ä»»äººï¼š</strong>å¼ å·¥"
                        },
                        {
                            title: "ğŸ“Š è¿è¡Œæ•°æ®",
                            content: "<strong>ç´¯è®¡è¿è¡Œï¼š</strong>8,752å°æ—¶<br><strong>ä»Šæ—¥è¿è¡Œï¼š</strong>6.5å°æ—¶<br><strong>è®¾å¤‡OEEï¼š</strong>82.3%<br><strong>ä¸Šæ¬¡ä¿å…»ï¼š</strong>2025-10-28<br><strong>ä¸‹æ¬¡ä¿å…»ï¼š</strong>2025-11-25"
                        },
                        {
                            title: "ğŸ”§ ç»´ä¿®å†å²",
                            content: "<strong>è¿‘æœŸç»´ä¿®ï¼š</strong>3æ¬¡<br>â€¢ 2025-10-15: æ¶²å‹æ²¹æ³„æ¼å¤„ç†<br>â€¢ 2025-09-20: å‹åŠ›ä¼ æ„Ÿå™¨æ›´æ¢<br>â€¢ 2025-08-12: ç”µç£é˜€ç»´ä¿®<br><br><strong>å¸¸è§æ•…éšœï¼š</strong>æ¶²å‹ç³»ç»Ÿé—®é¢˜ï¼ˆå 60%ï¼‰"
                        }
                    ],
                    quickActions: ["æŸ¥çœ‹è¯¦ç»†å±¥å†", "æŸ¥çœ‹æŠ€æœ¯æ–‡æ¡£", "åˆ›å»ºä¿å…»å·¥å•"]
                }
            ],
            4: [ // å¤‡ä»¶åº“å­˜æŸ¥è¯¢
                {
                    user: "å¤‡ä»¶BN-12345çš„åº“å­˜è¿˜æœ‰å¤šå°‘ï¼Ÿæ”¾åœ¨å“ªä¸ªè´§æ¶ï¼Ÿ",
                    agent: "æ­£åœ¨æŸ¥è¯¢å¤‡ä»¶åº“å­˜ä¿¡æ¯... ğŸ”",
                    delay: 1000,
                    nextAuto: true
                },
                {
                    user: "",
                    agent: "å·²ä¸ºæ‚¨æŸ¥è¯¢åˆ°å¤‡ä»¶ä¿¡æ¯ï¼š",
                    cards: [
                        {
                            title: "ğŸ“¦ å¤‡ä»¶åŸºæœ¬ä¿¡æ¯",
                            badge: "åº“å­˜å……è¶³",
                            content: "<strong>å¤‡ä»¶ç¼–ç ï¼š</strong>BN-12345<br><strong>å¤‡ä»¶åç§°ï¼š</strong>æ¶²å‹æ³µæŸ±å¡ç»„ä»¶<br><strong>è§„æ ¼å‹å·ï¼š</strong>A10VSO45<br><strong>å•ä½ï¼š</strong>å¥—<br><strong>å•ä»·ï¼š</strong>Â¥2,850"
                        },
                        {
                            title: "ğŸ“Š åº“å­˜è¯¦æƒ…",
                            content: "<strong>å½“å‰åº“å­˜ï¼š</strong>8 å¥—<br><strong>å®‰å…¨åº“å­˜ï¼š</strong>3 å¥—<br><strong>åº“å­˜çŠ¶æ€ï¼š</strong><span style='color: #10b981'>æ­£å¸¸</span><br><br><strong>å­˜æ”¾ä½ç½®ï¼š</strong><br>â€¢ ä¸»ä»“åº“ï¼š5å¥—ï¼ˆB3è´§æ¶-2å±‚ï¼‰<br>â€¢ ç°åœºä»“ï¼š3å¥—ï¼ˆ3å·äº§çº¿å·¥å…·æŸœï¼‰"
                        },
                        {
                            title: "ğŸ“ˆ ä½¿ç”¨ç»Ÿè®¡",
                            content: "<strong>æœˆå‡æ¶ˆè€—ï¼š</strong>1.2å¥—<br><strong>å¸¸ç”¨è®¾å¤‡ï¼š</strong>æ¶²å‹å‹åŠ›æœºç³»åˆ—<br><strong>ä¸Šæ¬¡é¢†ç”¨ï¼š</strong>2025-10-20<br><strong>ç´¯è®¡ä½¿ç”¨ï¼š</strong>26å¥—ï¼ˆä»Šå¹´ï¼‰<br><br><strong>ä¾›åº”å•†ï¼š</strong>XXæ¶²å‹ä»¶å…¬å¸<br><strong>é‡‡è´­å‘¨æœŸï¼š</strong>7-10å¤©"
                        }
                    ],
                    quickActions: ["ç”³è¯·é¢†ç”¨", "æŸ¥çœ‹æ›¿ä»£å¤‡ä»¶", "è”ç³»ä¾›åº”å•†"]
                }
            ],
            5: [ // å›¾åƒè¯†åˆ«è¯Šæ–­
                {
                    user: "æˆ‘æ‹äº†å¼ ç…§ç‰‡ï¼Œèƒ½å¸®æˆ‘çœ‹çœ‹æ˜¯ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ",
                    agent: "å½“ç„¶å¯ä»¥ï¼è¯·ä¸Šä¼ è®¾å¤‡æ•…éšœéƒ¨ä½çš„ç…§ç‰‡ã€‚ğŸ“¸<br><br>æˆ‘çš„å›¾åƒè¯†åˆ«åŠŸèƒ½å¯ä»¥è¯†åˆ«ï¼š",
                    cards: [
                        {
                            title: "ğŸ–¼ï¸ æ”¯æŒè¯†åˆ«çš„æ•…éšœç±»å‹",
                            content: "â€¢ æ¶²å‹æ²¹æ³„æ¼<br>â€¢ ç”µæ°”å…ƒä»¶çƒ§æ¯<br>â€¢ æœºæ¢°ç£¨æŸå’Œè£‚çº¹<br>â€¢ æ¥çº¿é”™è¯¯<br>â€¢ è®¾å¤‡æŠ¥è­¦ç•Œé¢<br>â€¢ å¼‚å¸¸å£°éŸ³çš„å£°è°±å›¾"
                        }
                    ],
                    quickActions: ["ğŸ“· æ‹ç…§ä¸Šä¼ ", "ğŸ“ ä»ç›¸å†Œé€‰æ‹©", "âŒ å–æ¶ˆ"]
                },
                {
                    user: "[å·²ä¸Šä¼ å›¾ç‰‡: æ¥è§¦å™¨ç…§ç‰‡]",
                    agent: "æ­£åœ¨è¿›è¡Œå›¾åƒè¯†åˆ«åˆ†æ... ğŸ”",
                    delay: 2000,
                    nextAuto: true
                },
                {
                    user: "",
                    agent: "âœ… å›¾åƒè¯†åˆ«å®Œæˆï¼",
                    cards: [
                        {
                            title: "ğŸ¯ AIè¯†åˆ«ç»“æœ",
                            badge: "ç½®ä¿¡åº¦ 94%",
                            content: "<strong>è¯†åˆ«å¯¹è±¡ï¼š</strong>äº¤æµæ¥è§¦å™¨<br><strong>æ•…éšœç±»å‹ï¼š</strong>è§¦ç‚¹çƒ§æ¯<br><strong>ä¸¥é‡ç¨‹åº¦ï¼š</strong>ä¸­åº¦<br><br><strong>å…·ä½“ç‰¹å¾ï¼š</strong><br>â€¢ è§¦ç‚¹è¡¨é¢æœ‰æ˜æ˜¾çƒ§èš€ç—•è¿¹<br>â€¢ è§¦ç‚¹é—´æœ‰ç¢³åŒ–ç‰©å †ç§¯<br>â€¢ çº¿åœˆå¤–è§‚æ­£å¸¸"
                        },
                        {
                            title: "ğŸ”§ å¤„ç†å»ºè®®",
                            content: "<strong>çŸ­æœŸæªæ–½ï¼š</strong><br>â€¢ æ¸…ç†è§¦ç‚¹è¡¨é¢ç¢³åŒ–ç‰©<br>â€¢ æµ‹è¯•è§¦ç‚¹æ¥è§¦ç”µé˜»<br>â€¢ æ£€æŸ¥è´Ÿè½½ç”µæµæ˜¯å¦è¿‡å¤§<br><br><strong>é•¿æœŸå»ºè®®ï¼š</strong><br>â€¢ å»ºè®®æ›´æ¢æ¥è§¦å™¨<br>â€¢ æ ¸æŸ¥è´Ÿè½½åŠŸç‡åŒ¹é…æ€§<br>â€¢ å¢åŠ æµªæ¶ŒæŠ‘åˆ¶å™¨"
                        },
                        {
                            title: "ğŸ“š ç›¸ä¼¼æ¡ˆä¾‹",
                            content: "æ‰¾åˆ°<strong>12ä¸ª</strong>ç›¸ä¼¼æ¡ˆä¾‹ï¼š<br><br>â€¢ æ¡ˆä¾‹#A089: ç”µæœºé¢‘ç¹å¯åœå¯¼è‡´æ¥è§¦å™¨çƒ§æ¯<br>â€¢ æ¡ˆä¾‹#B134: æ¥è§¦å™¨å®¹é‡é€‰æ‹©ä¸å½“<br>â€¢ æ¡ˆä¾‹#C056: ç¯å¢ƒç²‰å°˜å¯¼è‡´è§¦ç‚¹æ°§åŒ–<br><br>å¹³å‡ä¿®å¤æ—¶é—´ï¼š<strong>30åˆ†é’Ÿ</strong>"
                        }
                    ],
                    quickActions: ["æŸ¥çœ‹è¯¦ç»†æ¡ˆä¾‹", "ç”³è¯·é¢†ç”¨å¤‡ä»¶", "è”ç³»ä¸“å®¶"]
                }
            ]
        };

        function loadScenario(scenarioNum) {
            // æ›´æ–°æŒ‰é’®æ ·å¼
            document.querySelectorAll('.scenario-btn').forEach((btn, index) => {
                btn.classList.remove('active');
                if (index + 1 === scenarioNum) {
                    btn.classList.add('active');
                }
            });

            // é‡ç½®å¯¹è¯
            currentScenario = scenarioNum;
            scenarioStep = 0;
            document.getElementById('messages').innerHTML = `
                <div class="message agent">
                    <div class="message-avatar">AI</div>
                    <div class="message-content">
                        <div>åœºæ™¯${scenarioNum}å·²åŠ è½½ï¼è¯·ç‚¹å‡»å‘é€æŒ‰é’®å¼€å§‹æ¼”ç¤ºã€‚</div>
                        <div style="margin-top: 10px; color: #667eea;">æç¤ºï¼šæ‚¨å¯ä»¥æŒ‰ç…§é¢„è®¾è„šæœ¬ï¼Œä¹Ÿå¯ä»¥è‡ªç”±è¾“å…¥æµ‹è¯•ã€‚</div>
                    </div>
                </div>
            `;

            // é¢„å¡«å……ç¬¬ä¸€æ­¥çš„ç”¨æˆ·è¾“å…¥
            const input = document.getElementById('userInput');
            if (scenarios[scenarioNum] && scenarios[scenarioNum][0]) {
                input.value = scenarios[scenarioNum][0].user || '';
            } else {
                input.value = '';
            }
            input.disabled = false;
            input.focus();
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            // æ£€æŸ¥æ˜¯å¦æœ‰å¯ç”¨çš„åœºæ™¯æ­¥éª¤
            if (scenarioStep >= scenarios[currentScenario].length) {
                if (!message) {
                    alert('æ¼”ç¤ºåœºæ™¯å·²å®Œæˆï¼è¯·é€‰æ‹©å…¶ä»–åœºæ™¯æˆ–åˆ·æ–°é¡µé¢é‡æ–°å¼€å§‹ã€‚');
                    return;
                }
            }

            // å¦‚æœæœ‰è¾“å…¥å†…å®¹ï¼Œä½¿ç”¨è¾“å…¥çš„å†…å®¹ï¼›å¦åˆ™ä½¿ç”¨åœºæ™¯é¢„è®¾
            let userMessage = message || (scenarios[currentScenario][scenarioStep]?.user || "");
            
            if (userMessage) {
                addMessage('user', userMessage);
            }

            input.value = '';
            input.disabled = true;

            // æ˜¾ç¤ºæ‰“å­—æŒ‡ç¤ºå™¨
            showTypingIndicator();

            // å»¶è¿Ÿåæ˜¾ç¤ºAIå›å¤
            const currentStep = scenarios[currentScenario][scenarioStep] || {};
            const delay = currentStep.delay || 1500;

            setTimeout(() => {
                hideTypingIndicator();
                
                if (scenarioStep < scenarios[currentScenario].length) {
                    const step = scenarios[currentScenario][scenarioStep];
                    addMessage('agent', step.agent || 'å¤„ç†ä¸­...', step.cards, step.quickActions);
                    scenarioStep++;

                    // é¢„å¡«å……ä¸‹ä¸€æ­¥çš„ç”¨æˆ·è¾“å…¥
                    if (scenarioStep < scenarios[currentScenario].length) {
                        const nextStep = scenarios[currentScenario][scenarioStep];
                        if (nextStep && nextStep.user) {
                            input.value = nextStep.user;
                        }
                        
                        // å¦‚æœä¸‹ä¸€æ­¥éœ€è¦è‡ªåŠ¨æ‰§è¡Œ
                        if (step && step.nextAuto) {
                            setTimeout(() => {
                                sendMessage();
                            }, 1000);
                        }
                    }
                } else {
                    addMessage('agent', 'åœºæ™¯æ¼”ç¤ºå·²å®Œæˆã€‚æ‚¨å¯ä»¥é€‰æ‹©å…¶ä»–åœºæ™¯ç»§ç»­ä½“éªŒï¼');
                }

                input.disabled = false;
                input.focus();
            }, delay);
        }

        function addMessage(type, content, cards = [], quickActions = []) {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;

            let cardsHTML = '';
            if (cards && cards.length > 0) {
                cardsHTML = cards.map(card => `
                    <div class="card">
                        <div class="card-title">
                            ${card.title}
                            ${card.badge ? `<span class="badge">${card.badge}</span>` : ''}
                        </div>
                        <div class="card-content">${card.content}</div>
                    </div>
                `).join('');
            }

            let quickActionsHTML = '';
            if (quickActions && quickActions.length > 0) {
                quickActionsHTML = `
                    <div class="quick-actions">
                        ${quickActions.map(action => `<button class="quick-btn" onclick="quickAction('${action}')">${action}</button>`).join('')}
                    </div>
                `;
            }

            messageDiv.innerHTML = `
                ${type === 'agent' ? '<div class="message-avatar">AI</div>' : ''}
                <div class="message-content">
                    <div>${content}</div>
                    ${cardsHTML}
                    ${quickActionsHTML}
                </div>
                ${type === 'user' ? '<div class="message-avatar">æˆ‘</div>' : ''}
            `;

            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function showTypingIndicator() {
            const messagesDiv = document.getElementById('messages');
            const indicator = document.createElement('div');
            indicator.className = 'message agent';
            indicator.id = 'typing-indicator';
            indicator.innerHTML = `
                <div class="message-avatar">AI</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            messagesDiv.appendChild(indicator);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function hideTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        function quickAction(action) {
            addMessage('user', action);
            setTimeout(() => {
                addMessage('agent', `æ­£åœ¨æ‰§è¡Œ"${action}"...`);
            }, 500);
        }

        // åˆå§‹åŒ–
        document.getElementById('userInput').focus();
    </script>
</body>
</html>